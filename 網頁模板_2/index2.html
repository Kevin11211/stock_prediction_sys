<!DOCTYPE HTML>
<html>
<head>
    <title>Prologue by HTML5 UP</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body class="is-preload">
    <!-- Header -->
    <div id="header">
        <div class="top">
            <!-- Logo -->
            <div id="logo">
                <span class="image avatar48"><img src="images/avatar.jpg" alt="" /></span>
                <h1 id="title">BDSE 34期 第二組</h1>
                <h1 id="title">美股股價預測</h1>
            </div>
            <!-- Nav -->
            <nav id="nav">
                <ul>
                    <li><a href="#top" id="top-link"><span class="icon solid fa-home">團隊介紹</span></a></li>
                    <li><a href="#portfolio" id="portfolio-link"><span class="icon solid fa-th">Portfolio</span></a></li>
                    <li><a href="#about" id="about-link"><span class="icon solid fa-user">產業股票資訊</span></a></li>
                    <li><a href="#contact" id="contact-link"><span class="icon solid fa-envelope">股票價格預測</span></a></li>
                </ul>
            </nav>
        </div>
        <div class="bottom">
            <!-- Social Icons -->
            <ul class="icons">
                <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="#" class="icon brands fa-github"><span class="label">Github</span></a></li>
                <li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
                <li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
            </ul>
        </div>
    </div>

    <!-- Main -->
    <div id="main">
        <!-- Intro -->
        <section id="top" class="one dark cover">
            <div class="container">
                <header>
                    <h2 class="alt">Hi! I'm <strong>Prologue</strong>, a <a href="http://html5up.net/license">free</a> responsive<br />
                        site template designed by <a href="http://html5up.net">HTML5 UP</a>.</h2>
                    <p>Ligula scelerisque justo sem accumsan diam quis<br />
                        vitae natoque dictum sollicitudin elementum.</p>
                </header>
                <footer>
                    <a href="#portfolio" class="button scrolly">Magna Aliquam</a>
                </footer>
            </div>
        </section>

        <!-- Portfolio -->
        <section id="portfolio" class="two">
            <div class="container">
                <header>
                    <h2>Portfolio</h2>
                </header>
                <p>Vitae natoque dictum etiam semper magnis enim feugiat convallis convallis
                    egestas rhoncus ridiculus in quis risus amet curabitur tempor orci penatibus.
                    Tellus erat mauris ipsum fermentum etiam vivamus eget. Nunc nibh morbi quis
                    fusce hendrerit lacus ridiculus.</p>

                <form id="filter-form">
                    <div class="row">
                        <div class="col-6 col-12-mobile">
                            <select name="sectors" id="sectors">
                                <option value="">Select Sector</option>
                                {% for sector in sectors %}
                                    <option value="{{ sector }}">{{ sector }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-6 col-12-mobile">
                            <select name="industries" id="industries">
                                <option value="">Select Industry</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <button type="submit">Filter</button>
                        </div>
                    </div>
                </form>

                <div id="results"></div>
            </div>
        </section>

        <!-- 產業股票資訊 -->
        <section id="about" class="three"> 
            <!-- <div class="container">
                <header>
                    <h2>產業股票資訊</h2>
                </header>
                <a href="#" class="image featured"><img src="images/pic08.jpg" alt="" /></a>
                <p>Tincidunt eu elit diam magnis pretium accumsan etiam id urna. Ridiculus
                    ultricies curae quis et rhoncus velit. Lobortis elementum aliquet nec vitae
                    laoreet eget cubilia quam non etiam odio tincidunt montes. Elementum sem
                    parturient nulla quam placerat viverra mauris non cum elit tempus ullamcorper
                    dolor. Libero rutrum ut lacinia donec curae mus vel quisque sociis nec
                    ornare iaculis.</p>
            </div>  -->
            
            <h1>篩選</h1>
            <h2>Select Sector</h2>
            <div>
                {% for sector in sectors %}
                <button class="sector-button" data-sector="{{ sector }}" onclick="toggleSectorAndFilter(this)">{{ sector
                    }}</button>
                {% endfor %}
            </div>
            <hr>
            <h2>Select Industry</h2>
            <div id="industry-buttons"></div>

            <hr>
            <h2>Results</h2>

            <div id="results"></div>
        </section>

        <!-- 股票價格預測 -->
        <section id="contact" class="four">
            <div class="container">
                <header>
                    <h2>股票價格預測</h2>
                </header>
                <p>Elementum sem parturient nulla quam placerat viverra
                    mauris non cum elit tempus ullamcorper dolor. Libero rutrum ut lacinia
                    donec curae mus. Eleifend id porttitor ac ultricies lobortis sem nunc
                    orci ridiculus faucibus a consectetur. Porttitor curae mauris urna mi dolor.</p>
                <form method="post" action="#">
                    <div class="row">
                        <div class="col-6 col-12-mobile"><input type="text" name="name" placeholder="Name" /></div>
                        <div class="col-6 col-12-mobile"><input type="text" name="email" placeholder="Email" /></div>
                        <div class="col-12">
                            <textarea name="message" placeholder="Message"></textarea>
                        </div>
                        <div class="col-12">
                            <input type="submit" value="Send Message" />
                        </div>
                    </div>
                </form>
            </div>
            <h1>篩選</h1>
        <h2>Select Sector</h2>
        <div>
            {% for sector in sectors %}
            <button class="sector-button" data-sector="{{ sector }}" onclick="toggleSectorAndFilter(this)">{{ sector
                }}</button>
            {% endfor %}
        </div>
        <hr>
        <h2>Select Industry</h2>
        <div id="industry-buttons"></div>

        <hr>
        <h2>Results</h2>

        <div id="results"></div>
        </section>
    </div>

    <!-- Footer -->
    <div id="footer">
        <!-- Copyright -->
        <ul class="copyright">
            <li>&copy; Untitled. All rights reserved.</li>
            <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
        </ul>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/scripts.js"></script>

    <script>
        // 當選擇 Sector 時，動態加載 Industry
        $('#sectors').on('change', function() {
            const sectors = $(this).val();
            $.ajax({
                type: 'POST',
                url: '/filter_sectors',
                data: { sectors: sectors },
                success: function(data) {
                    const industries = data.industries;
                    let options = '<option value="">Select Industry</option>';
                    industries.forEach(function(industry) {
                        options += `<option value="${industry}">${industry}</option>`;
                    });
                    $('#industries').html(options);
                }
            });
        });

        // 表單提交過濾結果
        $('#filter-form').on('submit', function(event) {
            event.preventDefault();
            const sectors = $('#sectors').val();
            const industries = $('#industries').val();
            $.ajax({
                type: 'POST',
                url: '/filter_results',
                data: { sectors: sectors, industries: industries },
                success: function(data) {
                    const results = data.results;
                    const columns = data.columns;
                    let table = '<table><thead><tr>';
